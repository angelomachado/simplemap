!function(o){function e(){var o=this.selector;if(void 0!=m[o].options.lat&&void 0!=m[o].options.lng){var e=new google.maps.LatLng(m[o].options.lat,m[o].options.lng);m[o].map.setCenter(e)}else i.apply(this)}function n(o,e){if((m[e].options.maxMarkers>m[e].markers.length||"unlimited"==m[e].options.maxMarkers)&&!m[e].options.blockMarkers){var n=new google.maps.Marker({position:o,map:m[e].map});if(m[e].markers.push(n),m[e].options.infoWindow){var t={};void 0!=m[e].options.infoWindow.title&&(t.title=m[selector].options.infoWindow.title),void 0!=m[e].options.infoWindow.content&&(t.content=m[e].options.infoWindow.content);var i=new google.maps.InfoWindow(t);google.maps.event.addListener(n,"click",function(){i.open(m[e].map,n)})}"function"==typeof m[e].options.afterAddMarker&&m[e].options.afterAddMarker(n)}}function t(e){var n=this.selector;o.each(e,function(o,e){var t=new google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:m[n].map});if(m[n].markers.push(t),e.infoWindow){var i={};void 0!=e.infoWindow.title&&(i.title=e.infoWindow.title),void 0!=e.infoWindow.content&&(i.content=e.infoWindow.content);var a=new google.maps.InfoWindow(i);google.maps.event.addListener(t,"click",function(){a.open(m[n].map,t)})}}),r(n,m[n].map)}function i(){var o=this.selector;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var n=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);m[o].map.setCenter(n)}):a()}function a(){console.log("No geolocation supported!"),console.log("Update your browser and ensure a better experience!")}function r(o,e){for(var n=0;n<m[o].markers.length;n++)m[o].markers[n].setMap(e)}function s(){var o=this.selector;r(o,null)}function l(){var o=this.selector;r(o,m[o].map)}function p(){var o=this.selector;r(o,null),m[o].markers=[]}var c={maxMarkers:"unlimited",blockMarkers:!1,infoWindow:!1,zoom:12,afterAddMarker:!1},d={addMarkers:t,hideMarkers:s,showMarkers:l,deleteMarkers:p},m=[];o.fn.SimpleMap=function(){if("string"==typeof arguments[0]){var t=Array.prototype.slice.call(arguments);t.splice(0,1),d[arguments[0]].apply(this,t)}else{var i=this.selector;m[i]={},m[i].markers=[],m[i].options=o.extend({},c,arguments[0]),m[i].canvas=document.getElementById(this.selector.replace("#",""));var a={zoom:m[this.selector].options.zoom,mapTypeId:google.maps.MapTypeId.TERRAIN};m[i].map=new google.maps.Map(m[i].canvas,a),m[i].map.addListener("click",function(o){n(o.latLng,i)}),e.apply(this,arguments)}return this}}(jQuery);