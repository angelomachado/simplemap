!function(e){e.fn.SimpleMap=function(o){"use strict";function n(){if(void 0!=o.lat&&void 0!=o.lng){var e=new google.maps.LatLng(o.lat,o.lng),n={zoom:o.zoom,center:e,mapTypeId:google.maps.MapTypeId.TERRAIN};s=new google.maps.Map(c,n),google.maps.event.addListener(s,"click",function(e){i(e.latLng)})}else t()}function t(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var n=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),t={zoom:o.zoom,center:n,mapTypeId:google.maps.MapTypeId.TERRAIN};s=new google.maps.Map(c,t),google.maps.event.addListener(s,"click",function(e){i(e.latLng)})}):a()}function a(){console.log("No geolocation supported!"),console.log("Update your browser and ensure a better experience!")}function i(e){if((o.maxMarkers>g.length||"unlimited"==o.maxMarkers)&&!o.blockMarkers){var n=new google.maps.Marker({position:e,map:s});if(g.push(n),o.infoWindow){var t={};void 0!=o.infoWindow.title&&(t.title=o.infoWindow.title),void 0!=o.infoWindow.content&&(t.content=o.infoWindow.content);var a=new google.maps.InfoWindow(t);google.maps.event.addListener(n,"click",function(){a.open(s,n)})}"function"==typeof o.afterAddMarker&&o.afterAddMarker(n)}}function r(e){for(var o=0;o<g.length;o++)g[o].setMap(e)}function l(){r(null)}function d(){r(s)}function p(){l(),g=[]}var s,c=document.getElementById(this.selector.replace("#","")),g=[],o=e.extend({},e.fn.SimpleMap.defaults,o);return e.fn.SimpleMap.deleteMarkers=p,e.fn.SimpleMap.clearMarkers=l,e.fn.SimpleMap.showMarkers=d,google.maps.event.addDomListener(window,"load",n),e.fn.SimpleMap},e.fn.SimpleMap.defaults={maxMarkers:"unlimited",blockMarkers:!1,infoWindow:!1,zoom:12,afterAddMarker:!1}}(jQuery,window,document);