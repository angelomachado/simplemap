/*! simplemap.js - v1.0.0
MIT license. 2015-10-28 */
!function(a){"use strict";function b(){var a=this.selector;if(void 0!==m[a].options.lat&&void 0!==m[a].options.lng){var b=new google.maps.LatLng(m[a].options.lat,m[a].options.lng);m[a].map.setCenter(b)}else e.apply(this)}function c(a,b){if((m[b].options.maxMarkers>m[b].markers.length||"unlimited"===m[b].options.maxMarkers)&&!m[b].options.blockMarkers){var c=new google.maps.Marker({position:a,map:m[b].map});if(m[b].markers.push(c),m[b].options.infoWindow){var d={};void 0!==m[b].options.infoWindow.title&&(d.title=m[selector].options.infoWindow.title),void 0!==m[b].options.infoWindow.content&&(d.content=m[b].options.infoWindow.content);var e=new google.maps.InfoWindow(d);google.maps.event.addListener(c,"click",function(){e.open(m[b].map,c)})}"function"==typeof m[b].options.afterAddMarker&&m[b].options.afterAddMarker(c)}}function d(b){var c=this.selector;a.each(b,function(a,b){var d=new google.maps.Marker({position:{lat:b.lat,lng:b.lng},map:m[c].map});if(m[c].markers.push(d),b.infoWindow){var e={};void 0!==b.infoWindow.title&&(e.title=b.infoWindow.title),void 0!==b.infoWindow.content&&(e.content=b.infoWindow.content);var f=new google.maps.InfoWindow(e);google.maps.event.addListener(d,"click",function(){f.open(m[c].map,d)})}}),g(c,m[c].map)}function e(){var a=this.selector;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(b){var c=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);m[a].map.setCenter(c)}):f()}function f(){console.log("No geolocation supported!"),console.log("Update your browser and ensure a better experience!")}function g(a,b){for(var c=0;c<m[a].markers.length;c++)m[a].markers[c].setMap(b)}function h(){var a=this.selector;g(a,null)}function i(){var a=this.selector;g(a,m[a].map)}function j(){var a=this.selector;g(a,null),m[a].markers=[]}var k={maxMarkers:"unlimited",blockMarkers:!1,infoWindow:!1,zoom:12,afterAddMarker:!1},l={addMarkers:d,hideMarkers:h,showMarkers:i,deleteMarkers:j},m=[];a.fn.SimpleMap=function(){if("string"==typeof arguments[0]){var d=Array.prototype.slice.call(arguments);d.splice(0,1),l[arguments[0]].apply(this,d)}else{var e=this.selector;m[e]={},m[e].markers=[],m[e].options=a.extend({},k,arguments[0]),m[e].canvas=document.getElementById(this.selector.replace("#",""));var f={zoom:m[this.selector].options.zoom,mapTypeId:google.maps.MapTypeId.TERRAIN};m[e].map=new google.maps.Map(m[e].canvas,f),m[e].map.addListener("click",function(a){c(a.latLng,e)}),b.apply(this,arguments)}return this}}(jQuery);